{"ast":null,"code":"var _jsxFileName = \"/Users/shekharkhedekar/src/shekharkhedekar.com/src/App.jsx\";\nimport axios from 'axios';\nimport React from 'react'; // import fixture from '../fixtures/getScores.json';\n\nimport formatDate from './helpers';\nimport About from './components/About';\nimport Classes from './components/Classes';\nimport Header from './components/Header';\nimport ScrollToTop from './components/ScrollToTop';\nimport YearSelect from './components/YearSelect';\nimport VerticalClasses from './components/VerticalClasses';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SCORES_URL = '/api/getScores.php';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      year: `${new Date().getFullYear()}`,\n      data: {},\n      isVertical: true\n    };\n    this.handleYearChange = this.handleYearChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.getScores();\n  }\n\n  getScores() {\n    // this.setState({ data: fixture });\n    // return;\n    const {\n      year\n    } = this.state;\n    axios.get(`${SCORES_URL}`, {\n      params: {\n        y: year\n      }\n    }).then(_ref => {\n      let {\n        data\n      } = _ref;\n      this.setState({\n        data\n      });\n    });\n  }\n\n  handleYearChange(e) {\n    const {\n      value\n    } = e.target;\n    this.setState({\n      year: value,\n      data: {}\n    }, this.getScores);\n  }\n\n  handleVerticalChange(isVertical) {\n    this.setState({\n      isVertical\n    });\n    window.ga('send', 'event', 'ToggleVerticalButton', 'click', isVertical ? 'timeline' : 'table', isVertical);\n  }\n\n  renderYears() {\n    const {\n      data,\n      year,\n      isVertical\n    } = this.state;\n    const {\n      classes,\n      lastUpdated,\n      years\n    } = data;\n    return years ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row d-block d-sm-flex justify-content-between border border-radius p-3 section-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Rankings\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"last-updated\",\n            children: [\"(updated \", formatDate(lastUpdated), \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-between\",\n          children: [/*#__PURE__*/_jsxDEV(YearSelect, {\n            onChange: this.handleYearChange,\n            year: year,\n            years: years\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"btn-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: `btn oi oi-spreadsheet btn-${!isVertical ? 'secondary' : 'light'}`,\n              onClick: () => {\n                this.handleVerticalChange(false);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `btn oi oi-list btn-${isVertical ? 'secondary' : 'light'}`,\n              onClick: () => {\n                this.handleVerticalChange(true);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row border border-top-0\",\n        children: isVertical ? /*#__PURE__*/_jsxDEV(VerticalClasses, {\n          classes: classes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(Classes, {\n          classes: classes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 65\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ScrollToTop, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"loading\",\n      children: \"Loading scores...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content mb-3 p-3\",\n        children: [/*#__PURE__*/_jsxDEV(About, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), this.renderYears()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/shekharkhedekar/src/shekharkhedekar.com/src/App.jsx"],"names":["axios","React","formatDate","About","Classes","Header","ScrollToTop","YearSelect","VerticalClasses","SCORES_URL","App","Component","constructor","props","state","year","Date","getFullYear","data","isVertical","handleYearChange","bind","componentDidMount","getScores","get","params","y","then","setState","e","value","target","handleVerticalChange","window","ga","renderYears","classes","lastUpdated","years","render"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React from 'react';\n\n// import fixture from '../fixtures/getScores.json';\n\nimport formatDate from './helpers';\n\nimport About from './components/About';\nimport Classes from './components/Classes';\nimport Header from './components/Header';\nimport ScrollToTop from './components/ScrollToTop';\nimport YearSelect from './components/YearSelect';\nimport VerticalClasses from './components/VerticalClasses';\n\nconst SCORES_URL = '/api/getScores.php';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      year: `${(new Date()).getFullYear()}`,\n      data: {},\n      isVertical: true,\n    };\n\n    this.handleYearChange = this.handleYearChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.getScores();\n  }\n\n  getScores() {\n    // this.setState({ data: fixture });\n    // return;\n\n    const { year } = this.state;\n    axios.get(\n      `${SCORES_URL}`,\n      { params: { y: year } },\n    ).then(({ data }) => {\n      this.setState({ data });\n    });\n  }\n\n  handleYearChange(e) {\n    const { value } = e.target;\n    this.setState({ year: value, data: {} }, this.getScores);\n  }\n\n  handleVerticalChange(isVertical) {\n    this.setState({ isVertical });\n    window.ga(\n      'send',\n      'event',\n      'ToggleVerticalButton',\n      'click',\n      isVertical ? 'timeline' : 'table',\n      isVertical,\n    );\n  }\n\n  renderYears() {\n    const {\n      data,\n      year,\n      isVertical,\n    } = this.state;\n    const {\n      classes,\n      lastUpdated,\n      years,\n    } = data;\n\n    return years ? (\n      <div className=\"container-fluid\">\n        <div className=\"row d-block d-sm-flex justify-content-between border border-radius p-3 section-header\">\n          <h2>\n            Rankings\n            <span className=\"last-updated\">\n              (updated {formatDate(lastUpdated)})\n            </span>\n          </h2>\n\n          <div className=\"d-flex justify-content-between\">\n            <YearSelect\n              onChange={this.handleYearChange}\n              year={year}\n              years={years}\n            />\n\n            <div className=\"btn-group\">\n              <button\n                className={`btn oi oi-spreadsheet btn-${!isVertical ? 'secondary' : 'light'}`}\n                onClick={() => { this.handleVerticalChange(false); }}\n              />\n              <button\n                className={`btn oi oi-list btn-${isVertical ? 'secondary' : 'light'}`}\n                onClick={() => { this.handleVerticalChange(true); }}\n              />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"row border border-top-0\">\n          {isVertical ? <VerticalClasses classes={classes} /> : <Classes classes={classes} />}\n        </div>\n\n        <ScrollToTop />\n      </div>\n    ) : (\n      <p className=\"loading\">Loading scores...</p>\n    );\n  }\n  render() {\n    return (\n      <div>\n        <Header />\n        <div className=\"content mb-3 p-3\">\n          <About />\n          {this.renderYears()}\n        </div>\n      </div>\n\n    );\n  }\n}\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}